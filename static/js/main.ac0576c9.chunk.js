(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},17:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),i=a.n(r),o=(a(17),a(3)),s=a(4),l=a(6),u=a(5),d=a(7),v=a(2),m=a.n(v),p=a(8),f=a(1),h=(a(19),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).getCameraDevices=Object(p.a)(m.a.mark(function e(){var t,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:return t=e.sent,a=t.filter(function(e){return"videoinput"===e.kind}),e.abrupt("return",a);case 5:case"end":return e.stop()}},e)})),e.onInputSelect=function(t,a){e.setState({selectedDevice:t.target.value}),e.playVideo()},e.playVideo=Object(p.a)(m.a.mark(function t(){var a,n,c,r,i;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCameraDevices();case 2:a=t.sent,n=e.videoStream.current,c=e.state.selectedDevice,console.log(c,"selectedDevice"),a&&(e.setState({sources:a}),r={},""===c||"undefined"===typeof c?r.facingMode="environment":(r.deviceId={exact:c},r.width=400,r.height=600),i={video:r,audio:!1},console.log(r),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia(i).then(function(e){n.srcObject=e,n.play()}));case 7:case"end":return t.stop()}},t)})),e.capturePicture=function(){e.canvas.current.getContext("2d").drawImage(e.videoStream.current,0,0,640,360),e.canvas.current.toBlob(function(t){var a=URL.createObjectURL(t);console.log(t,"blob"),console.log(a);var n=e.canvas.current.toDataURL();e.setState({imgUrl:n})})},e.state={},e.videoStream=c.a.createRef(),e.captureImage=c.a.createRef(),e.canvas=c.a.createRef(),e.capturePicture=e.capturePicture.bind(Object(f.a)(e)),e.onInputSelect=e.onInputSelect.bind(Object(f.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.playVideo()}},{key:"render",value:function(){var e,t,a=this.state,n=a.imgUrl,r=a.sources;return e=n?c.a.createElement("img",{src:n,className:"imagePreview",alt:"description"}):c.a.createElement("p",null,"not captured"),t=r?r.map(function(e){return c.a.createElement("option",{key:e.groupId,value:e.deviceId},e.label)}):c.a.createElement("option",{value:"volvo",disabled:!0},"No Camera Device Found"),c.a.createElement("div",{className:"AppContainer"},c.a.createElement("div",{className:"video--container"},c.a.createElement("div",{className:"overlay--container"},c.a.createElement("div",{class:"top left"}),c.a.createElement("div",{class:"top right"}),c.a.createElement("div",{class:"bottom right"}),c.a.createElement("div",{class:"bottom left"})),c.a.createElement("video",{ref:this.videoStream,autoPlay:!0,preload:"none"})),c.a.createElement("button",{ref:this.captureImage,onClick:this.capturePicture,className:"capture"},"Capture"),c.a.createElement("canvas",{ref:this.canvas,width:"640",height:"480",className:"hidden"}),e,c.a.createElement("select",{value:this.state.value,onChange:this.onInputSelect},t))}}]),t}(n.Component)),g=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"AppContainer"},c.a.createElement(h,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.ac0576c9.chunk.js.map